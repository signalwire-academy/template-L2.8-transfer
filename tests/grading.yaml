# Grading configuration for Lab 2.8: Call Transfer

assignment:
  id: L2.8-transfer
  name: "Lab 2.8: Call Transfer"
  level: 2
  type: lab
  passing_score: 70

checks:
  - id: instantiate
    name: "Agent Instantiation"
    points: 15
    type: instantiate
    file: solution/agent.py
  - id: swml_valid
    name: "SWML Generation"
    points: 15
    type: swml_valid
    file: solution/agent.py
  - id: func_transfer
    name: "transfer_to_department function"
    points: 20
    type: function_exists
    file: solution/agent.py
    function: transfer_to_department
  - id: func_check_avail
    name: "check_availability function"
    points: 15
    type: function_exists
    file: solution/agent.py
    function: check_availability
  - id: func_transfer_context
    name: "transfer_with_context function"
    points: 20
    type: function_exists
    file: solution/agent.py
    function: transfer_with_context
  - id: transfer_uses_connect
    name: "Transfer uses connect() action"
    points: 15
    type: exec
    file: solution/agent.py
    function: transfer_to_department
    args:
      department: "sales"
    expect:
      stdout_contains:
        - "connect"

feedback:
  pass: |
    Excellent work! You've completed Lab 2.8: Call Transfer.

    You've learned how to:
    - Route calls to different departments
    - Check business hours before transferring
    - Pass caller context to transferred calls
    - Use .connect() for phone number transfers

    **Next steps:**
    - Continue to Lab 2.9: Multi-Agent Architecture

  fail: |
    Some checks didn't pass. Review the requirements and try again.

    **Tips:**
    - Use .connect(phone_number, final=True) for transfers
    - Check department hours before transferring
    - Use .update_global_data() to pass context
    - Run `swaig-test solution/agent.py --list-tools` to verify functions
    - Run `swaig-test solution/agent.py --dump-swml` to check SWML
